{"version":3,"sources":["../../../node_modules/tslib/tslib.es6.js","../../../projects/ngx-elements-router/src/lib/bundle-registry.service.ts","../../../projects/ngx-elements-router/src/lib/entry-routing.service.ts","../../../projects/ngx-elements-router/src/lib/entry-zone.service.ts","../../../projects/ngx-elements-router/src/lib/noop-location-strategy.ts","../../../projects/ngx-elements-router/src/lib/no.component.ts","../../../projects/ngx-elements-router/src/lib/load-bundle.guard.ts","../../../projects/ngx-elements-router/src/lib/routing.directive.ts","../../../projects/ngx-elements-router/src/lib/zone.directive.ts","../../../projects/ngx-elements-router/src/lib/elements-router.module.ts"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","this","n","v","op","TypeError","pop","length","push","create","BundleRegistryService","loadingStates","loadBundle","bundleUrl","includes","getLoadingState","url","script","document","createElement","src","onload","onerror","error","appendChild","catch","isSuccess","_a","isBundleLoaded","isRedirect","event","urlAfterRedirects","Injectable","args","providedIn","EntryRoutingService","router","registerRouting","outgoingRoute$","incomingRoute$","inSubscription","registerIncomingRouting","outSubscription","registerOutgoingRouting","add","_this","pipe","distinctUntilChanged","subscribe","route","navigateByUrl","state","fromPlatform","events","RoutesRecognized","isFromPlatform","replaceUrl","_b","getCurrentNavigation","extras","Router","EntryZoneService","zone","applicationRef","registerZone","microtaskEmpty$$","switchMap","microtaskEmpty$","EMPTY","run","tick","NgZone","ApplicationRef","NoopLocationStrategy","platformLocation","baseHref","_super","getBaseHrefFromDOM","Error","__","constructor","__extends","onPopState","_fn","getBaseHref","path","_includeHash","prepareExternalUrl","internal","endsWith","startsWith","substring","pushState","_state","_title","_path","_queryParams","replaceState","forward","back","LocationStrategy","PlatformLocation","Optional","type","Inject","APP_BASE_HREF","Component","selector","template","LoadBundleGuard","bundleRegistryService","canActivate","data","console","RoutingDirective","element","destroyed$","Subject","ngOnInit","map","takeUntil","nativeElement","ngOnDestroy","handleRouteChange","navigateToUrl","detail","warn","Directive","ElementRef","ActivatedRoute","HostListener","ZoneDirective","onMicrotaskEmpty","NgModule","declarations","NoComponent","imports","exports"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { Injectable } from '@angular/core';\n\nfunction load(url: string): Promise<void> {\n  return new Promise((resolve, reject) => {\n    const script = document.createElement('script');\n    script.src = url;\n    script.onload = () => resolve();\n    script.onerror = () =>\n      reject({\n        error: `Bundle ${url} could not be loaded`,\n      });\n    document.body.appendChild(script);\n  });\n}\n\n/**\n * The loading state of a bundle.\n *\n * UNKNOWN -> It has not been tried to load this bundle.\n * LOADING -> The loading of this bundle is currently happening.\n * LOADED -> The bundle has been successfully loaded.\n * FAILED -> The loading of the bundle failed.\n */\ntype LoadingState = 'UNKNOWN' | 'LOADING' | 'LOADED' | 'FAILED';\n\n/**\n * This service loads bundles and keeps track of which bundles have been already loaded.\n * This way, it prevents errors that would occur if a bundle is loaded a second time.\n */\n@Injectable({ providedIn: 'root' })\nexport class BundleRegistryService {\n  private loadingStates: Record<string, LoadingState> = {};\n\n  /**\n   * Loads the given bundle if not already loaded, registering its custom elements in the browser.\n   *\n   * @param bundleUrl The url of the bundle, can be absolute or relative to the domain + base href.\n   */\n  async loadBundle(bundleUrl: string): Promise<boolean> {\n    if (['LOADING', 'LOADED'].includes(this.getLoadingState(bundleUrl))) {\n      return true;\n    }\n    this.loadingStates[bundleUrl] = 'LOADING';\n    const isSuccess = await load(bundleUrl)\n      .then(() => true)\n      .catch(() => false);\n    this.loadingStates[bundleUrl] = isSuccess ? 'LOADED' : 'FAILED';\n    return isSuccess;\n  }\n\n  /**\n   * Returns the loading state of the bundle.\n   *\n   * @param bundleUrl The url of the bundle.\n   */\n  getLoadingState(bundleUrl: string): LoadingState {\n    return this.loadingStates[bundleUrl] || 'UNKNOWN';\n  }\n\n  /**\n   * Returns if the bundle has already been loaded successfully.\n   *\n   * @param bundleUrl The url of the bundle.\n   */\n  isBundleLoaded(bundleUrl: string): boolean {\n    return this.getLoadingState(bundleUrl) === 'LOADED';\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Router, RoutesRecognized } from '@angular/router';\nimport { Observable, Subject, Subscription } from 'rxjs';\nimport { distinctUntilChanged } from 'rxjs/operators';\nimport { RouterEvent } from './router-event.type';\n\nfunction isRedirect(event: RoutesRecognized): boolean {\n  return event.url !== event.urlAfterRedirects;\n}\n\n/**\n * Registers the routing feature on the entry component of a micro frontend.\n *\n * ```\n * export class ExampleComponent implements OnChanges, OnDestroy {\n *   @Input() route?: string;\n *   @Output() routeChange = new EventEmitter<string>();\n *   route$ = new Subject<string | undefined>;\n *   private destroyed$ = new Subject<void>();\n *   constructor(private entryRoutingService: EntryRoutingService) {\n *     this.entryRoutingService.registerRouting(this.routeChange, this.route$, this.destroyed$);\n *   }\n *   ngOnDestroy() {\n *     this.destroyed$.next();\n *   }\n *   ngOnChanges() {\n *     this.route$.next(this.route);\n *   }\n * ```\n */\n@Injectable({ providedIn: 'root' })\nexport class EntryRoutingService {\n  constructor(private router: Router) {}\n\n  registerRouting(\n    outgoingRoute$: Subject<RouterEvent>,\n    incomingRoute$: Observable<string | undefined>\n  ): Subscription {\n    const inSubscription = this.registerIncomingRouting(incomingRoute$);\n    const outSubscription = this.registerOutgoingRouting(outgoingRoute$);\n    return inSubscription.add(outSubscription);\n  }\n\n  registerIncomingRouting(\n    incomingRoute$: Observable<string | undefined>\n  ): Subscription {\n    return incomingRoute$.pipe(distinctUntilChanged()).subscribe((route) => {\n      if (route) {\n        this.router.navigateByUrl(route, { state: { fromPlatform: true } });\n      }\n    });\n  }\n\n  registerOutgoingRouting(outgoingRoute$: Subject<RouterEvent>): Subscription {\n    return this.router.events.subscribe((event) => {\n      if (\n        event instanceof RoutesRecognized &&\n        (!this.isFromPlatform() || isRedirect(event))\n      ) {\n        outgoingRoute$.next({\n          url: event.urlAfterRedirects,\n          replaceUrl: isRedirect(event),\n        });\n      }\n    });\n  }\n\n  isFromPlatform(): boolean {\n    return this.router.getCurrentNavigation()?.extras.state?.fromPlatform;\n  }\n}\n","import { ApplicationRef, Injectable, NgZone } from '@angular/core';\nimport { EMPTY, Observable, Subscription } from 'rxjs';\nimport { switchMap } from 'rxjs/operators';\n\n/**\n * Registers the zone feature on the entry component of a micro frontend.\n * It is intended to be used with the ZoneDirective on the custom element.\n * Together, they ensure that the change detection cycles of the Angular application of a micro frontend are executed.\n * This happens, whenever the `window.Zone` object indicates the necessity of a change detection cycle.\n *\n * ```\n * export class ExampleComponent implements OnChanges, OnDestroy {\n *   @Input() microtaskEmpty$?: Observable<void>;\n *   microtaskEmpty$$ = new Subject<Observable<void>>();\n *   constructor(private entryZoneService: EntryZoneService) {\n *     this.subscription = this.entryZoneService.registerZone(this.microtaskEmpty$$);\n *   }\n *   ngOnDestroy() {\n *     this.subscription.unsubscribe();\n *   }\n *   ngOnChanges() {\n *     this.microtaskEmpty$$.next(this.microtaskEmpty$);\n *   }\n * ```\n */\n@Injectable({ providedIn: 'root' })\nexport class EntryZoneService {\n  constructor(private zone: NgZone, private applicationRef: ApplicationRef) {}\n\n  registerZone(\n    microtaskEmpty$$: Observable<Observable<void> | undefined>\n  ): Subscription {\n    return microtaskEmpty$$\n      .pipe(switchMap((microtaskEmpty$) => microtaskEmpty$ ?? EMPTY))\n      .subscribe(() => {\n        this.zone.run(() => {\n          this.applicationRef.tick();\n        });\n      });\n  }\n}\n","import {\n  APP_BASE_HREF,\n  LocationChangeListener,\n  LocationStrategy,\n  PlatformLocation,\n} from '@angular/common';\nimport { Inject, Injectable, Optional } from '@angular/core';\n\n/**\n * Acts as a noop location strategy that does not modify the browser url.\n * Should be used for a RouterModule in a micro frontend.\n * That way, the RouterModule of the platform is in charge of modifying the browser url.\n *\n * ```\n * imports: [\n *   RouterModule.forRoot([\n *     { path: 'my-route', component: SomeComponent },\n *     { path: '**', component: NoComponent }\n *   ])\n * ],\n * providers: [\n *   { provide: LocationStrategy, useClass: NoopLocationStrategy },\n * ]\n * ```\n */\n@Injectable()\nexport class NoopLocationStrategy extends LocationStrategy {\n  private readonly baseHref: string;\n\n  constructor(\n    private platformLocation: PlatformLocation,\n    @Optional() @Inject(APP_BASE_HREF) baseHref?: string\n  ) {\n    super();\n    this.baseHref = baseHref || this.platformLocation.getBaseHrefFromDOM();\n    if (!this.baseHref) {\n      throw new Error(\n        `No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.`\n      );\n    }\n  }\n\n  onPopState(_fn: LocationChangeListener): void {}\n\n  getBaseHref(): string {\n    return this.baseHref;\n  }\n\n  path(_includeHash: boolean = false): string {\n    return '';\n  }\n\n  prepareExternalUrl(internal: string): string {\n    if (this.baseHref.endsWith('/') && internal.startsWith('/')) {\n      return this.baseHref.substring(0, this.baseHref.length - 1) + internal;\n    } else if (this.baseHref.endsWith('/') || internal.startsWith('/')) {\n      return this.baseHref + internal;\n    } else {\n      return `${this.baseHref}/${internal}`;\n    }\n  }\n\n  pushState(\n    _state: any,\n    _title: string,\n    _path: string,\n    _queryParams: string\n  ): void {}\n\n  replaceState(\n    _state: any,\n    _title: string,\n    _path: string,\n    _queryParams: string\n  ): void {}\n\n  forward(): void {}\n\n  back(): void {}\n}\n","import { Component } from '@angular/core';\n\n/**\n * This component can be used for routes that shall never be resolved by the web component itself.\n * Instead, the host embedding the web component can resolve these routes.\n */\n@Component({\n  selector: 'aer-no-component',\n  template: '',\n})\nexport class NoComponent {}\n","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivate } from '@angular/router';\nimport { BundleRegistryService } from './bundle-registry.service';\n\n/**\n * Ensures that a bundle is loaded before activating the route.\n *\n * ```\n * {\n *   path: 'my-micro-frontend',\n *   canActivate: [LoadBundleGuard],\n *   data: {\n *     bundleUrl: 'http://localhost:4200/main.js'\n *   },\n *   loadChildren: () => import('./my-micro-frontend/my-micro-frontend-host.module').then((m) => m.MyMicroFrontendHostModule)\n * }\n * ```\n */\n@Injectable({ providedIn: 'root' })\nexport class LoadBundleGuard implements CanActivate {\n  constructor(private bundleRegistryService: BundleRegistryService) {}\n\n  canActivate(route: ActivatedRouteSnapshot): Promise<boolean> {\n    const bundleUrl = route.data.bundleUrl as unknown;\n    if (!(typeof bundleUrl === 'string')) {\n      console.error(`\n        The LoadBundleGuard is missing information on which bundle to load.\n        Did you forget to provide a bundleUrl: string as data to the route?\n      `);\n      return Promise.resolve(false);\n    }\n    return this.bundleRegistryService.loadBundle(bundleUrl);\n  }\n}\n","import {\n  Directive,\n  ElementRef,\n  HostListener,\n  OnDestroy,\n  OnInit,\n} from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Subject } from 'rxjs';\nimport { map, takeUntil } from 'rxjs/operators';\nimport { RouterEvent } from './router-event.type';\n\n/**\n * Enables the routing feature on a custom element.\n * It passes the activated route into the custom element and listens to route changes of the custom element.\n * The custom element needs to define an input `route` and an output `routeChange`.\n *\n * ```\n * @Component({\n *   selector: 'my-custom-element-host',\n *   template: `\n *     <my-custom-element aerRouting></lx-custom-element>\n *   `\n * })\n * export class MyCustomElementHostComponent {}\n * ```\n */\n@Directive({\n  selector: '[aerRouting]',\n})\nexport class RoutingDirective implements OnInit, OnDestroy {\n  private destroyed$ = new Subject<void>();\n\n  constructor(\n    private element: ElementRef,\n    private router: Router,\n    private route: ActivatedRoute\n  ) {}\n\n  ngOnInit(): void {\n    this.route.url\n      .pipe(\n        map(() => this.router.url),\n        takeUntil(this.destroyed$)\n      )\n      .subscribe((url) => (this.element.nativeElement.route = url));\n  }\n\n  ngOnDestroy(): void {\n    this.destroyed$.next();\n  }\n\n  @HostListener('routeChange', ['$event'])\n  handleRouteChange(event: { detail?: RouterEvent }): void {\n    this.navigateToUrl(event?.detail);\n  }\n\n  navigateToUrl(event: RouterEvent | undefined): void {\n    if (event?.url && event.url.startsWith('/')) {\n      this.router.navigateByUrl(event.url, {\n        replaceUrl: event.replaceUrl || false,\n      });\n    } else {\n      console.warn(\n        `The aerRouting directive received an invalid router event.`,\n        event\n      );\n    }\n  }\n}\n","import { Directive, ElementRef, NgZone, OnInit } from '@angular/core';\n\n/**\n * Enables the zone feature on a custom element.\n * It passes an observable of all events where the global `window.Zone` object reported that the microtask queue is empty.\n * Such an event indicates to Angular that a change detection cycle needs to be run.\n *\n * ```\n * @Component({\n *   selector: 'my-custom-element-host',\n *   template: `\n *     <my-custom-element aerZone></lx-custom-element>\n *   `\n * })\n * export class MyCustomElementHostComponent {}\n * ```\n */\n@Directive({\n  selector: '[aerZone]',\n})\nexport class ZoneDirective implements OnInit {\n  constructor(private element: ElementRef, private zone: NgZone) {}\n\n  ngOnInit(): void {\n    this.element.nativeElement.microtaskEmpty$ = this.zone.onMicrotaskEmpty;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { NoComponent } from './no.component';\nimport { RoutingDirective } from './routing.directive';\nimport { ZoneDirective } from './zone.directive';\n\n@NgModule({\n  declarations: [ZoneDirective, RoutingDirective, NoComponent],\n  imports: [],\n  exports: [ZoneDirective, RoutingDirective, NoComponent],\n})\nexport class ElementsRouterModule {}\n"]}